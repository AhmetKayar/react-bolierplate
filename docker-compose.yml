version: '3'

services:
  react-app:	
    image: reactapp:latest	
    deploy:
      restart_policy:
        condition: "any"
        delay: "0"
        max_attempts: 3
        window: "30s"	
    ports: 	
      - "8080"	
    networks:	
      - proxy	
    labels:	
      - "traefik.enable=true"
      - "traefik.http.routers.api-server.rule=Host(`react.turkiyeoku.com`)"
      - "traefik.http.routers.api-server.entrypoints=https"
      - "traefik.http.routers.api-server.tls.certresolver=http"

networks:
  proxy:
    external: true
